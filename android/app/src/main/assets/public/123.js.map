{"version":3,"sources":["webpack:///./node_modules/@ionic/core/dist/esm/es5/gesture.js"],"names":[],"mappings":"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","file":"123.js","sourcesContent":["var PanRecognizer = /** @class */ (function () {\n    function PanRecognizer(t, e, s) {\n        this.dirty = !1, this.isPan = 0;\n        var i = s * (Math.PI / 180);\n        this.isDirX = \"x\" === t, this.maxCosine = Math.cos(i), this.threshold = e * e;\n    }\n    PanRecognizer.prototype.start = function (t, e) { this.startX = t, this.startY = e, this.isPan = 0, this.dirty = !0; };\n    PanRecognizer.prototype.detect = function (t, e) { if (!this.dirty)\n        return !1; var s = t - this.startX, i = e - this.startY, r = s * s + i * i; if (r < this.threshold)\n        return !1; var h = Math.sqrt(r), o = (this.isDirX ? s : i) / h; return o > this.maxCosine ? this.isPan = 1 : o < -this.maxCosine ? this.isPan = -1 : this.isPan = 0, this.dirty = !1, !0; };\n    PanRecognizer.prototype.isGesture = function () { return 0 !== this.isPan; };\n    PanRecognizer.prototype.getDirection = function () { return this.isPan; };\n    return PanRecognizer;\n}());\nvar GestureController = /** @class */ (function () {\n    function GestureController(t) {\n        this.doc = t, this.gestureId = 0, this.requestedStart = new Map, this.disabledGestures = new Map, this.disabledScroll = new Set, this.capturedId = null;\n    }\n    GestureController.prototype.createGesture = function (t) { return new GestureDelegate(this, this.newID(), t.name, t.priority ? t.priority : 0, !!t.disableScroll); };\n    GestureController.prototype.createBlocker = function (t) {\n        if (t === void 0) { t = {}; }\n        return new BlockerDelegate(this.newID(), this, t.disable, !!t.disableScroll);\n    };\n    GestureController.prototype.start = function (t, e, s) { return this.canStart(t) ? (this.requestedStart.set(e, s), !0) : (this.requestedStart.delete(e), !1); };\n    GestureController.prototype.capture = function (t, e, s) { if (!this.start(t, e, s))\n        return !1; var i = this.requestedStart; var r = -1e4; if (i.forEach(function (t) { r = Math.max(r, t); }), r === s) {\n        this.capturedId = e, i.clear();\n        var s_1 = new CustomEvent(\"ionGestureCaptured\", { detail: t });\n        return this.doc.body.dispatchEvent(s_1), !0;\n    } return i.delete(e), !1; };\n    GestureController.prototype.release = function (t) { this.requestedStart.delete(t), this.capturedId && t === this.capturedId && (this.capturedId = null); };\n    GestureController.prototype.disableGesture = function (t, e) { var s = this.disabledGestures.get(t); s || (s = new Set, this.disabledGestures.set(t, s)), s.add(e); };\n    GestureController.prototype.enableGesture = function (t, e) { var s = this.disabledGestures.get(t); s && s.delete(e); };\n    GestureController.prototype.disableScroll = function (t) { this.disabledScroll.add(t); };\n    GestureController.prototype.enableScroll = function (t) { this.disabledScroll.delete(t); };\n    GestureController.prototype.canStart = function (t) { return !this.capturedId && !this.isDisabled(t); };\n    GestureController.prototype.isCaptured = function () { return !!this.capturedId; };\n    GestureController.prototype.isScrollDisabled = function () { return this.disabledScroll.size > 0; };\n    GestureController.prototype.isDisabled = function (t) { var e = this.disabledGestures.get(t); return !!(e && e.size > 0); };\n    GestureController.prototype.newID = function () { return this.gestureId++, this.gestureId; };\n    return GestureController;\n}());\nvar GestureDelegate = /** @class */ (function () {\n    function GestureDelegate(t, e, s, i, r) {\n        this.id = e, this.name = s, this.priority = i, this.disableScroll = r, this.ctrl = t;\n    }\n    GestureDelegate.prototype.canStart = function () { return !!this.ctrl && this.ctrl.canStart(this.name); };\n    GestureDelegate.prototype.start = function () { return !!this.ctrl && this.ctrl.start(this.name, this.id, this.priority); };\n    GestureDelegate.prototype.capture = function () { if (!this.ctrl)\n        return !1; var t = this.ctrl.capture(this.name, this.id, this.priority); return t && this.disableScroll && this.ctrl.disableScroll(this.id), t; };\n    GestureDelegate.prototype.release = function () { this.ctrl && (this.ctrl.release(this.id), this.disableScroll && this.ctrl.enableScroll(this.id)); };\n    GestureDelegate.prototype.destroy = function () { this.release(), this.ctrl = void 0; };\n    return GestureDelegate;\n}());\nvar BlockerDelegate = /** @class */ (function () {\n    function BlockerDelegate(t, e, s, i) {\n        this.id = t, this.disable = s, this.disableScroll = i, this.ctrl = e;\n    }\n    BlockerDelegate.prototype.block = function () { if (this.ctrl) {\n        if (this.disable)\n            for (var _i = 0, _a = this.disable; _i < _a.length; _i++) {\n                var t = _a[_i];\n                this.ctrl.disableGesture(t, this.id);\n            }\n        this.disableScroll && this.ctrl.disableScroll(this.id);\n    } };\n    BlockerDelegate.prototype.unblock = function () { if (this.ctrl) {\n        if (this.disable)\n            for (var _i = 0, _a = this.disable; _i < _a.length; _i++) {\n                var t = _a[_i];\n                this.ctrl.enableGesture(t, this.id);\n            }\n        this.disableScroll && this.ctrl.enableScroll(this.id);\n    } };\n    BlockerDelegate.prototype.destroy = function () { this.unblock(), this.ctrl = void 0; };\n    return BlockerDelegate;\n}());\nvar gestureController = new GestureController(document);\nvar _sPassive;\nfunction supportsPassive(t) { if (void 0 === _sPassive)\n    try {\n        var e = Object.defineProperty({}, \"passive\", { get: function () { _sPassive = !0; } });\n        t.addEventListener(\"optsTest\", function () { }, e);\n    }\n    catch (t) {\n        _sPassive = !1;\n    } return !!_sPassive; }\nfunction addEventListener(t, e, s, i) { var r = supportsPassive(t) ? { capture: !!i.capture, passive: !!i.passive } : !!i.capture; var h, o; return t.__zone_symbol__addEventListener ? (h = \"__zone_symbol__addEventListener\", o = \"__zone_symbol__removeEventListener\") : (h = \"addEventListener\", o = \"removeEventListener\"), t[h](e, s, r), function () { t[o](e, s, r); }; }\nvar MOUSE_WAIT = 2e3;\nvar PointerEvents = /** @class */ (function () {\n    function PointerEvents(t, e, s, i, r) {\n        this.el = t, this.pointerDown = e, this.pointerMove = s, this.pointerUp = i, this.options = r, this.lastTouchEvent = 0, this.bindTouchEnd = this.handleTouchEnd.bind(this), this.bindMouseUp = this.handleMouseUp.bind(this);\n    }\n    Object.defineProperty(PointerEvents.prototype, \"disabled\", {\n        set: function (t) { t ? (this.rmTouchStart && this.rmTouchStart(), this.rmMouseStart && this.rmMouseStart(), this.rmTouchStart = this.rmMouseStart = void 0, this.stop()) : (this.rmTouchStart || (this.rmTouchStart = addEventListener(this.el, \"touchstart\", this.handleTouchStart.bind(this), this.options)), this.rmMouseStart || (this.rmMouseStart = addEventListener(this.el, \"mousedown\", this.handleMouseDown.bind(this), this.options))); },\n        enumerable: true,\n        configurable: true\n    });\n    PointerEvents.prototype.stop = function () { this.stopTouch(), this.stopMouse(); };\n    PointerEvents.prototype.destroy = function () { this.disabled = !0, this.pointerUp = this.pointerMove = this.pointerDown = void 0; };\n    PointerEvents.prototype.handleTouchStart = function (t) { this.lastTouchEvent = Date.now() + MOUSE_WAIT, this.pointerDown(t, POINTER_EVENT_TYPE_TOUCH) && (!this.rmTouchMove && this.pointerMove && (this.rmTouchMove = addEventListener(this.el, \"touchmove\", this.pointerMove, this.options)), this.rmTouchEnd || (this.rmTouchEnd = addEventListener(this.el, \"touchend\", this.bindTouchEnd, this.options)), this.rmTouchCancel || (this.rmTouchCancel = addEventListener(this.el, \"touchcancel\", this.bindTouchEnd, this.options))); };\n    PointerEvents.prototype.handleMouseDown = function (t) { this.lastTouchEvent > Date.now() || this.pointerDown(t, POINTER_EVENT_TYPE_MOUSE) && (!this.rmMouseMove && this.pointerMove && (this.rmMouseMove = addEventListener(getDocument(this.el), \"mousemove\", this.pointerMove, this.options)), this.rmMouseUp || (this.rmMouseUp = addEventListener(getDocument(this.el), \"mouseup\", this.bindMouseUp, this.options))); };\n    PointerEvents.prototype.handleTouchEnd = function (t) { this.stopTouch(), this.pointerUp && this.pointerUp(t, POINTER_EVENT_TYPE_TOUCH); };\n    PointerEvents.prototype.handleMouseUp = function (t) { this.stopMouse(), this.pointerUp && this.pointerUp(t, POINTER_EVENT_TYPE_MOUSE); };\n    PointerEvents.prototype.stopTouch = function () { this.rmTouchMove && this.rmTouchMove(), this.rmTouchEnd && this.rmTouchEnd(), this.rmTouchCancel && this.rmTouchCancel(), this.rmTouchMove = this.rmTouchEnd = this.rmTouchCancel = void 0; };\n    PointerEvents.prototype.stopMouse = function () { this.rmMouseMove && this.rmMouseMove(), this.rmMouseUp && this.rmMouseUp(), this.rmMouseMove = this.rmMouseUp = void 0; };\n    return PointerEvents;\n}());\nfunction getDocument(t) { return t instanceof Document ? t : t.ownerDocument; }\nvar POINTER_EVENT_TYPE_MOUSE = 1, POINTER_EVENT_TYPE_TOUCH = 2;\nfunction create(t) { return new Gesture(t); }\nvar Gesture = /** @class */ (function () {\n    function Gesture(t) {\n        this.positions = [], this.hasCapturedPan = !1, this.hasStartedPan = !1, this.hasFiredStart = !0, this.isMoveQueued = !1;\n        var e = Object.assign({ disableScroll: !1, direction: \"x\", gesturePriority: 0, passive: !0, maxAngle: 40, threshold: 10 }, t);\n        this.canStart = e.canStart, this.onWillStart = e.onWillStart, this.onStart = e.onStart, this.onEnd = e.onEnd, this.onMove = e.onMove, this.threshold = e.threshold, this.queue = e.queue, this.detail = { type: \"pan\", startX: 0, startY: 0, startTimeStamp: 0, currentX: 0, currentY: 0, velocityX: 0, velocityY: 0, deltaX: 0, deltaY: 0, timeStamp: 0, event: void 0, data: void 0 }, this.pointerEvents = new PointerEvents(e.el, this.pointerDown.bind(this), this.pointerMove.bind(this), this.pointerUp.bind(this), { capture: !1 }), this.pan = new PanRecognizer(e.direction, e.threshold, e.maxAngle), this.gesture = gestureController.createGesture({ name: t.gestureName, priority: t.gesturePriority, disableScroll: t.disableScroll });\n    }\n    Object.defineProperty(Gesture.prototype, \"disabled\", {\n        set: function (t) { this.pointerEvents.disabled = t; },\n        enumerable: true,\n        configurable: true\n    });\n    Gesture.prototype.destroy = function () { this.gesture.destroy(), this.pointerEvents.destroy(); };\n    Gesture.prototype.pointerDown = function (t) { var e = now(t); if (this.hasStartedPan || !this.hasFiredStart)\n        return !1; var s = this.detail; return updateDetail(t, s), s.startX = s.currentX, s.startY = s.currentY, s.startTimeStamp = s.timeStamp = e, s.velocityX = s.velocityY = s.deltaX = s.deltaY = 0, s.event = t, this.positions.length = 0, (!this.canStart || !1 !== this.canStart(s)) && (this.gesture.release(), !!this.gesture.start() && (this.positions.push(s.currentX, s.currentY, e), this.hasStartedPan = !0, 0 === this.threshold ? this.tryToCapturePan() : (this.pan.start(s.startX, s.startY), !0))); };\n    Gesture.prototype.pointerMove = function (t) { if (this.hasCapturedPan)\n        return void (!this.isMoveQueued && this.hasFiredStart && (this.isMoveQueued = !0, this.calcGestureData(t), this.queue.write(this.fireOnMove.bind(this)))); var e = this.detail; this.calcGestureData(t), this.pan.detect(e.currentX, e.currentY) && this.pan.isGesture() && (this.tryToCapturePan() || this.abortGesture()); };\n    Gesture.prototype.fireOnMove = function () { if (!this.hasCapturedPan)\n        return; var t = this.detail; this.isMoveQueued = !1, this.onMove && this.onMove(t); };\n    Gesture.prototype.calcGestureData = function (t) { var e = this.detail; updateDetail(t, e); var s = e.currentX, i = e.currentY, r = e.timeStamp = now(t); e.deltaX = s - e.startX, e.deltaY = i - e.startY, e.event = t; var h = r - 100, o = this.positions; var n = o.length - 1; for (; n > 0 && o[n] > h;)\n        n -= 3; if (n > 1) {\n        var t_1 = 1 / (o[n] - r), h_1 = o[n - 1] - i, a = o[n - 2] - s;\n        e.velocityX = a * t_1, e.velocityY = h_1 * t_1;\n    }\n    else\n        e.velocityX = 0, e.velocityY = 0; o.push(s, i, r); };\n    Gesture.prototype.tryToCapturePan = function () { if (this.gesture && !this.gesture.capture())\n        return !1; this.hasCapturedPan = !0, this.hasFiredStart = !1; var t = this.detail; return t.startX = t.currentX, t.startY = t.currentY, t.startTimeStamp = t.timeStamp, this.onWillStart ? this.onWillStart(this.detail).then(this.fireOnStart.bind(this)) : this.fireOnStart(), !0; };\n    Gesture.prototype.fireOnStart = function () { this.onStart && this.onStart(this.detail), this.hasFiredStart = !0; };\n    Gesture.prototype.abortGesture = function () { this.reset(), this.pointerEvents.stop(), this.notCaptured && this.notCaptured(this.detail); };\n    Gesture.prototype.reset = function () { this.hasCapturedPan = !1, this.hasStartedPan = !1, this.isMoveQueued = !1, this.hasFiredStart = !0, this.gesture && this.gesture.release(); };\n    Gesture.prototype.pointerUp = function (t) { var e = this.hasCapturedPan, s = this.hasFiredStart; if (this.reset(), !s)\n        return; this.calcGestureData(t); var i = this.detail; e ? this.onEnd && this.onEnd(i) : this.notCaptured && this.notCaptured(i); };\n    return Gesture;\n}());\nfunction updateDetail(t, e) { var s = 0, i = 0; if (t) {\n    var e_1 = t.changedTouches;\n    if (e_1 && e_1.length > 0) {\n        var t_2 = e_1[0];\n        s = t_2.clientX, i = t_2.clientY;\n    }\n    else\n        void 0 !== t.pageX && (s = t.pageX, i = t.pageY);\n} e.currentX = s, e.currentY = i; }\nfunction now(t) { return t.timeStamp || Date.now(); }\nexport { create, Gesture };\n"],"sourceRoot":""}